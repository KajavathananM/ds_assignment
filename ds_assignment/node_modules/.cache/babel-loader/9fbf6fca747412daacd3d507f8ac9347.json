{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\WebstormProjects\\\\ds_assignment\\\\src\\\\components\\\\ConfirmSection.js\";\nimport React, { Component } from 'react';\nimport Railway from './Railway.PNG';\nimport axios from 'axios';\n\nconst Statement = (props1, props2) => {\n  console.log(props1);\n  console.log(props2);\n};\n\nconst extract = props => {\n  let detail = props.pop();\n  return detail;\n};\n\nclass ConfirmSection extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      TrainDetail: this.props.TrainDetail,\n      Person: this.props.Person\n    };\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    let TrainDetail = extract(this.state.TrainDetail);\n    let Person = extract(this.state.Person);\n    console.log(TrainDetail);\n    console.log(Person);\n\n    if (Person.nicNo !== null || Person.nicNo !== '') {\n      alert(\"Discount offered 10 percent\");\n      axios.post('http://localhost:5000/worker/addPerson', {\n        id: \"w\" + Date.now(),\n        Person: {\n          nicNo: Person.name,\n          name: Person.name,\n          contactNo: Person.contactNo,\n          email: Person.email\n        },\n        TrainDetail: {\n          start: TrainDetail.start,\n          end: TrainDetail.end,\n          trainNumber: TrainDetail.trainNumber,\n          trainName: TrainDetail.trainName,\n          date: TrainDetail.date,\n          ticketQuanity: TrainDetail.ticketQuanity,\n          ticketPrice: 200 * 0.9 * TrainDetail.ticketQuanity\n        },\n        paid: false\n      }).then(res => {\n        console.log('Reservation details succesfully saved');\n        let user = JSON.parse(res.config.data);\n        window.location.href = '/bill/' + 'w' + user.id;\n      });\n    } else if (Person.nicNo === null || Person.nicNo === '') {\n      axios.post('http://localhost:5000/citizen/addPerson', {\n        id: \"c\" + Date.now(),\n        Person: {\n          name: Person.name,\n          contactNo: Person.contactNo,\n          email: Person.email\n        },\n        TrainDetail: {\n          start: TrainDetail.start,\n          end: TrainDetail.end,\n          trainNumber: TrainDetail.trainNumber,\n          trainName: TrainDetail.trainName,\n          date: TrainDetail.date,\n          ticketQuanity: TrainDetail.ticketQuanity,\n          ticketPrice: 200 * TrainDetail.ticketQuanity\n        },\n        paid: false\n      }).then(res => {\n        console.log('Reservation details succesfully saved');\n        let user = JSON.parse(res.config.data);\n        window.location.href = '/bill/' + user.id;\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      style: rightStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: Railway,\n      width: \"200px\",\n      height: \"330px\",\n      alt: \"Railway\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      style: downStyle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      style: btnStyle,\n      onClick: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"View Bill\"))), Statement(this.state.Person, this.state.TrainDetail));\n  }\n\n}\n\nconst rightStyle = {\n  position: 'fixed',\n  left: '1300px',\n  background: 'LightGrey',\n  width: '200px',\n  height: '500px',\n  textAlign: 'left',\n  border: '3px solid Black',\n  borderTopStyle: 'none',\n  top: '190px'\n};\nconst btnStyle = {\n  background: 'red',\n  color: 'white',\n  padding: '5px 8px',\n  cursor: 'pointer',\n  float: 'right',\n  width: \"110px\",\n  height: \"50px\"\n};\nconst downStyle = {\n  margin: 'auto',\n  width: \"80px\",\n  padding: '10px',\n  position: 'absolute',\n  left: '70px',\n  right: '80px',\n  top: '350px'\n};\nexport default ConfirmSection;","map":{"version":3,"sources":["C:\\Users\\User\\WebstormProjects\\ds_assignment\\src\\components\\ConfirmSection.js"],"names":["React","Component","Railway","axios","Statement","props1","props2","console","log","extract","props","detail","pop","ConfirmSection","constructor","state","TrainDetail","Person","onSubmit","bind","e","preventDefault","nicNo","alert","post","id","Date","now","name","contactNo","email","start","end","trainNumber","trainName","date","ticketQuanity","ticketPrice","paid","then","res","user","JSON","parse","config","data","window","location","href","render","rightStyle","downStyle","btnStyle","position","left","background","width","height","textAlign","border","borderTopStyle","top","color","padding","cursor","float","margin","right"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\nimport Railway from './Railway.PNG';\nimport axios from 'axios';\n\n\n\nconst Statement=(props1,props2)=>{\n    console.log(props1);\n    console.log(props2);\n};\n\n\nconst extract=(props)=>{\n  let detail=props.pop();\n  return detail\n};\n\n\nclass ConfirmSection extends Component\n{\n    constructor (props) {\n        super(props);\n        this.state = {\n\n            TrainDetail: this.props.TrainDetail,\n            Person:this.props.Person\n        };\n       this.onSubmit=this.onSubmit.bind(this);\n     }\n    onSubmit(e){\n        e.preventDefault();\n\n        let TrainDetail=extract(this.state.TrainDetail);\n        let Person=extract(this.state.Person);\n        console.log(TrainDetail);\n        console.log(Person);\n\n\n        if(Person.nicNo !== null || Person.nicNo !== '')\n        {\n            alert(\"Discount offered 10 percent\");\n\n            axios\n                .post('http://localhost:5000/worker/addPerson',\n\n                    {\n                        id:\"w\"+Date.now(),\n                        Person:{\n                            nicNo:Person.name,\n                            name:Person.name,\n                            contactNo:Person.contactNo,\n                            email:Person.email\n                        },\n                        TrainDetail:{\n                            start:TrainDetail.start,\n                            end:TrainDetail.end,\n                            trainNumber:TrainDetail.trainNumber,\n                            trainName: TrainDetail.trainName,\n                            date:TrainDetail.date,\n                            ticketQuanity: TrainDetail.ticketQuanity,\n                            ticketPrice: 200*0.9*TrainDetail.ticketQuanity\n                        },\n                        paid:false\n                    }\n\n                )\n                .then(res => {\n                    console.log('Reservation details succesfully saved');\n                    let user=JSON.parse(res.config.data);\n                    window.location.href='/bill/'+'w'+user.id;\n                });\n\n        }else if(Person.nicNo === null || Person.nicNo=== ''){\n            axios\n                .post('http://localhost:5000/citizen/addPerson',\n\n                    {\n                        id:\"c\"+Date.now(),\n                        Person:{\n                            name:Person.name,\n                            contactNo:Person.contactNo,\n                            email:Person.email\n                        },\n                        TrainDetail:{\n                            start:TrainDetail.start,\n                            end:TrainDetail.end,\n                            trainNumber:TrainDetail.trainNumber,\n                            trainName: TrainDetail.trainName,\n                            date:TrainDetail.date,\n                            ticketQuanity: TrainDetail.ticketQuanity,\n                            ticketPrice: 200*TrainDetail.ticketQuanity\n                        },\n                        paid:false\n                    }\n\n                )\n                .then(res => {\n                    console.log('Reservation details succesfully saved');\n                    let user=JSON.parse(res.config.data);\n                    window.location.href='/bill/'+user.id;\n                });\n        }\n\n\n\n\n\n    }\n\n\n\n    render() {\n        return(\n            <div style={rightStyle}>\n                <form>\n                    <div><img src={Railway} width=\"200px\" height=\"330px\" alt=\"Railway\"/></div>\n                    <div style={downStyle}><button style={btnStyle} onClick={this.onSubmit}>View Bill</button></div>\n                </form>\n                {Statement(this.state.Person,this.state.TrainDetail)}\n            </div>\n\n       );\n\n    }\n\n\n}\n\nconst rightStyle={\n    position:'fixed',\n\n    left:'1300px',\n    background:'LightGrey',\n    width:'200px',\n    height:'500px',\n    textAlign:'left',\n    border: '3px solid Black',\n    borderTopStyle:'none',\n    top: '190px',\n};\nconst btnStyle={\n    background:'red',\n    color:'white',\n    padding:'5px 8px',\n    cursor:'pointer',\n    float:'right',\n    width:\"110px\",\n    height:\"50px\"\n};\n\nconst downStyle={\n    margin: 'auto',\n    width:\"80px\",\n    padding:'10px',\n    position: 'absolute',\n    left:'70px',\n    right:'80px',\n    top: '350px',\n\n};\nexport default ConfirmSection;"]},"metadata":{},"sourceType":"module"}