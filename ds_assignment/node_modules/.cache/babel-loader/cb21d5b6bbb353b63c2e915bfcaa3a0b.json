{"ast":null,"code":"import axios from 'axios';\nlet data = '';\n\nconst validate = (id, card) => {\n  console.log(id);\n  console.log(card);\n  axios.get('http://localhost:5000/acc/' + id).then(res => {\n    data = res.data.Card;\n\n    if (card.Name === data.cardHolder) {\n      if (card.credit === data.cardNo && card.cvc === data.cvcNo) {\n        alert(\"Payment successful\");\n        data = res.data.Account;\n        withdraw(id, data.Balance);\n      }\n    }\n\n    console.log(data);\n  });\n};\n\nconst withdraw = (id, amount) => {\n  console.log(id);\n  console.log(amount);\n  axios.get('http://localhost:5000/citizen/' + id).then(res => {\n    data = res.data.pop();\n    console.log(data);\n    this.setState({\n      TrainDetail: details.TrainDetail\n    });\n    this.setState({\n      Person: details.Person\n    });\n    this.setState({\n      ticketId: details.id\n    });\n  });\n}; // const sendEmail=(message)=>{\n//     console.log(message)\n// };\n\n\nexport default validate;","map":{"version":3,"sources":["C:\\Users\\User\\WebstormProjects\\ds_assignment\\src\\api\\Service\\CreditService.js"],"names":["axios","data","validate","id","card","console","log","get","then","res","Card","Name","cardHolder","credit","cardNo","cvc","cvcNo","alert","Account","withdraw","Balance","amount","pop","setState","TrainDetail","details","Person","ticketId"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAIC,IAAI,GAAC,EAAT;;AAEE,MAAOC,QAAQ,GAAE,CAACC,EAAD,EAAIC,IAAJ,KAAW;AAC1BC,EAAAA,OAAO,CAACC,GAAR,CAAYH,EAAZ;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAJ,EAAAA,KAAK,CAACO,GAAN,CAAU,+BAA6BJ,EAAvC,EACKK,IADL,CACUC,GAAG,IAAI;AACVR,IAAAA,IAAI,GAAGQ,GAAG,CAACR,IAAJ,CAASS,IAAhB;;AACC,QAAGN,IAAI,CAACO,IAAL,KAAcV,IAAI,CAACW,UAAtB,EACA;AACI,UAAGR,IAAI,CAACS,MAAL,KAAgBZ,IAAI,CAACa,MAArB,IAA+BV,IAAI,CAACW,GAAL,KAAad,IAAI,CAACe,KAApD,EACA;AACOC,QAAAA,KAAK,CAAC,oBAAD,CAAL;AACAhB,QAAAA,IAAI,GAACQ,GAAG,CAACR,IAAJ,CAASiB,OAAd;AACAC,QAAAA,QAAQ,CAAChB,EAAD,EAAIF,IAAI,CAACmB,OAAT,CAAR;AACN;AACJ;;AACDf,IAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACH,GAbL;AAcH,CAjBC;;AAmBF,MAAMkB,QAAQ,GAAC,CAAChB,EAAD,EAAIkB,MAAJ,KAAa;AACxBhB,EAAAA,OAAO,CAACC,GAAR,CAAYH,EAAZ;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYe,MAAZ;AACArB,EAAAA,KAAK,CAACO,GAAN,CAAU,mCAAiCJ,EAA3C,EACKK,IADL,CACUC,GAAG,IAAI;AACTR,IAAAA,IAAI,GAAEQ,GAAG,CAACR,IAAJ,CAASqB,GAAT,EAAN;AACAjB,IAAAA,OAAO,CAACC,GAAR,CAAYL,IAAZ;AACA,SAAKsB,QAAL,CAAc;AAACC,MAAAA,WAAW,EAACC,OAAO,CAACD;AAArB,KAAd;AACA,SAAKD,QAAL,CAAc;AAACG,MAAAA,MAAM,EAACD,OAAO,CAACC;AAAhB,KAAd;AACA,SAAKH,QAAL,CAAc;AAACI,MAAAA,QAAQ,EAACF,OAAO,CAACtB;AAAlB,KAAd;AACH,GAPL;AAQH,CAXD,C,CAaA;AACA;AACA;;;AAEA,eAAeD,QAAf","sourcesContent":["import axios from 'axios'\r\n\r\nlet data='';\r\n\r\n  const  validate =(id,card)=>{\r\n    console.log(id);\r\n    console.log(card);\r\n    axios.get('http://localhost:5000/acc/'+id)\r\n        .then(res => {\r\n           data = res.data.Card;\r\n            if(card.Name === data.cardHolder)\r\n            {\r\n                if(card.credit === data.cardNo && card.cvc === data.cvcNo)\r\n                {\r\n                       alert(\"Payment successful\");\r\n                       data=res.data.Account;\r\n                       withdraw(id,data.Balance);\r\n                }\r\n            }\r\n            console.log(data);\r\n        });\r\n};\r\n\r\nconst withdraw=(id,amount)=>{\r\n    console.log(id);\r\n    console.log(amount);\r\n    axios.get('http://localhost:5000/citizen/'+id)\r\n        .then(res => {\r\n            data= res.data.pop();\r\n            console.log(data);\r\n            this.setState({TrainDetail:details.TrainDetail} );\r\n            this.setState({Person:details.Person} );\r\n            this.setState({ticketId:details.id});\r\n        });\r\n};\r\n\r\n// const sendEmail=(message)=>{\r\n//     console.log(message)\r\n// };\r\n\r\nexport default validate;\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}